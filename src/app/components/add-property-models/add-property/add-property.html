<div class="add-property-component">
  <header class="border-b border-gray-300">
    <div class="flex justify-between p-6 items-center">
      <div>
        <h1 class="text-xl font-bold">Add New Property {{ propertyForm.value.id }}</h1>
        <span class="text-sm text-gray-500">
          @if (steps === 1) {
            Upload property photos
          } @else if (steps === 2) {
            Fill in property details
          }
        </span>
      </div>
      <div class="steps flex items-center gap-2 mr-12">
        @if (steps === 1) {
          <span
            class="flex items-center justify-center w-8 h-8 rounded-full bg-blue-600 text-white text-sm"
            [ngClass]="{
              'bg-blue-600 text-white': steps == 1,
              'bg-gray-300 text-gray-500': steps != 1,
            }"
          >
            1
          </span>
        } @else if (steps > 1) {
          <span
            class="flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium bg-green-600 text-white"
            data-id="element-17"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-check h-4 w-4"
              aria-hidden="true"
              data-id="element-18"
            >
              <path d="M20 6 9 17l-5-5"></path>
            </svg>
          </span>
        }
        <span class="w-12 h-0.5 bg-gray-300"></span>
        <span
          class="flex items-center justify-center w-8 h-8 rounded-full bg-blue-600 text-white text-sm"
          [ngClass]="{
            'bg-blue-600 text-white': steps == 2,
            'bg-gray-300 text-gray-500': steps != 2,
          }"
        >
          2
        </span>
      </div>
    </div>
  </header>
  <main class="flex justify-center bg-white flex-col items-center p-6 gap-6">
    @if (steps === 1) {
      <div>
        <div class="text-center">
          <div class="font-semibold">Add Property Photos</div>
          <span class="text-sm text-gray-500">
            Choose how you'd like to upload photos of your property
          </span>
        </div>
        @if (selectMethod === '') {
          <app-select-method (changeMethod)="changeMethod($event)"></app-select-method>
        } @else if (selectMethod == 'computer') {
          <app-upload-from-computer
            (changeMethod)="changeMethod('')"
            (disableContinueDetails)="disableContinueDetails()"
            (propertyIdUpdate)="updatePropertyId($event)"
          ></app-upload-from-computer>
        } @else if (selectMethod == 'mobile') {
          <app-upload-from-mobile
            (changeMethod)="changeMethod('')"
            (disableContinueDetails)="disableContinueDetails()"
            (propertyIdUpdate)="updatePropertyId($event)"
          ></app-upload-from-mobile>
        }
      </div>
    } @else if (steps === 2) {
      <div class="w-full">
        <div class="basic-info">
          <h6 class="text-left text-lg font-semibold">Basic Information</h6>
          <div class="flex flex-col mt-4">
            <label class="mb-1" for="title">Property Title </label>
            <input
              class="px-3 py-2 border text-sm shadow-sm border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
              type="text"
              id="title"
              placeholder="e.g, Spacious 2 Bedroom Apartment in Downtown"
            />
          </div>
          <div class="flex w-full justify-between mt-4 gap-5">
            <div class="flex flex-col w-1/3">
              <label class="mb-1" for="number-of-rooms">Number of rooms </label>
              <input
                class="px-3 py-2 border text-sm shadow-sm border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                type="text"
                id="number-of-rooms"
                placeholder="e.g, 3"
              />
            </div>
            <div class="flex flex-col w-1/3">
              <label class="mb-1" for="price">Price </label>
              <input
                class="px-3 py-2 border text-sm shadow-sm border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                type="text"
                id="price"
                placeholder="e.g, 100000"
              />
            </div>
            <div class="flex flex-col w-1/3">
              <label class="mb-1" for="area">Area </label>
              <input
                class="px-3 py-2 border text-sm shadow-sm border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                type="text"
                id="area"
                placeholder="e.g, 1200 sqft"
              />
            </div>
          </div>
          <div class="flex flex-col mt-4">
            <label for="description" class="mb-2">Description</label>
            <textarea
              class="px-3 py-2 border text-sm shadow-sm border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
              id="description"
              placeholder="Provide a detailed description of the property"
              rows="4"
            ></textarea>
          </div>
        </div>
        <div class="type mt-5">
          <h6 class="text-left text-lg font-semibold">Type</h6>
          <div class="flex gap-5">
            <div class="flex flex-col mt-4 w-1/3">
              <label for="offerType" class="mb-2">OfferType</label>
              <select
                name="offerType"
                class="block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-600 focus:ring-blue-600 sm:text-sm border px-3 py-2"
              >
                <option value="for_rent">For Rent</option>
                <option value="for_sale">For Sale</option>
              </select>
            </div>
            <div class="flex flex-col mt-4 w-1/3">
              <label for="category" class="mb-2">Category</label>
              <select
                name="category"
                class="block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-600 focus:ring-blue-600 sm:text-sm border px-3 py-2"
              >
                <option value="apartment">Residentail</option>
                <option value="house">Commercial</option>
                <option value="condo">Industrial</option>
                <option value="townhouse">Land</option>
              </select>
            </div>
            <div class="flex flex-col mt-4 w-1/3">
              <label for="description" class="mb-2">Type</label>
              <select
                name="type"
                class="block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-600 focus:ring-blue-600 sm:text-sm border px-3 py-2"
              >
                <option value="apartment">Apartment</option>
                <option value="house">House</option>
                <option value="condo">Office</option>
                <option value="warehouse">Warehouse</option>
                <option value="flat">Flat</option>
                <option value="penthouse">Penthouse</option>
                <option value="studio">Studio</option>
                <option value="shop">Shop</option>
              </select>
            </div>
          </div>
          <div class="flex gap-5">
            <div class="flex flex-col mt-4 w-1/2">
              <label for="status" class="mb-2">Status</label>
              <select
                name="status"
                class="block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-600 focus:ring-blue-600 sm:text-sm border px-3 py-2"
              >
                <option value="draft">Draft</option>
                <option value="active">Active</option>
                <option value="archived">Archived</option>
              </select>
            </div>
            <div class="flex flex-col mt-4 w-1/2">
              <label for="occupancy" class="mb-2">Occupancy</label>
              <select
                name="occupancy"
                class="block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-600 focus:ring-blue-600 sm:text-sm border px-3 py-2"
              >
                <option value="available">Available</option>
                <option value="rented">Rented</option>
                <option value="sold">Sold</option>
              </select>
            </div>
          </div>
        </div>
        <div class="type mt-5">
          <h6 class="text-left text-lg font-semibold">Location</h6>
          <div class="flex gap-5">
            <div class="flex flex-col mt-4 w-1/2">
              <label class="mb-1" for="country">Country</label>
              <select
                name="country"
                class="block rounded-md border-gray-300 shadow-sm focus:border-blue-600 focus:ring-blue-600 sm:text-sm border px-3 py-2"
              >
                <option value="usa">USA</option>
                <option value="canada">Canada</option>
                <option value="uk">UK</option>
                <option value="australia">Australia</option>
              </select>
            </div>
            <div class="flex flex-col mt-4 w-1/2">
              <label class="mb-1" for="region">Region</label>
              <select
                name="region"
                class="block rounded-md border-gray-300 shadow-sm focus:border-blue-600 focus:ring-blue-600 sm:text-sm border px-3 py-2"
              >
                <option value="region1">Region 1</option>
                <option value="region2">Region 2</option>
                <option value="region3">Region 3</option>
                <option value="region4">Region 4</option>
              </select>
            </div>
          </div>
          <div class="flex gap-5">
            <div class="flex flex-col mt-4 w-1/2">
              <label class="mb-1" for="city">City</label>
              <select
                name="city"
                class="block rounded-md border-gray-300 shadow-sm focus:border-blue-600 focus:ring-blue-600 sm:text-sm border px-3 py-2"
              >
                <option value="city1">City 1</option>
                <option value="city2">City 2</option>
                <option value="city3">City 3</option>
                <option value="city4">City 4</option>
              </select>
            </div>
            <div class="flex flex-col mt-4 w-1/2">
              <label class="mb-1" for="district">District</label>
              <select
                name="district"
                class="block rounded-md border-gray-300 shadow-sm focus:border-blue-600 focus:ring-blue-600 sm:text-sm border px-3 py-2"
              >
                <option value="district1">District 1</option>
                <option value="district2">District 2</option>
                <option value="district3">District 3</option>
                <option value="district4">District 4</option>
              </select>
            </div>
          </div>
          <div class="flex flex-col mt-4">
            <label for="address" class="mb-2">Address</label>
            <input
              type="text"
              class="px-3 py-2 border text-sm shadow-sm border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
              id="address"
              placeholder="Provide a detailed address of the property"
            />
          </div>
        </div>
        <div class="type mt-5">
          <h6 class="text-left text-lg font-semibold">Amenities</h6>
          <div class="grid grid-cols-2 md:grid-cols-3 gap-3 mt-3" data-id="element-121">
            @for (amenity of amenities; track $index) {
              <label class="flex items-center gap-2 cursor-pointer group" data-id="element-122">
                <input
                  type="checkbox"
                  class="h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer"
                  data-id="element-123"
                  checked=""
                />
                <span class="text-sm text-gray-700 group-hover:text-gray-900" data-id="element-124">
                  {{ amenity }}
                </span>
              </label>
            }
          </div>
        </div>
      </div>
    }
  </main>

  <footer class="border-t border-gray-300 p-6">
    @if (steps === 1) {
      <div class="flex justify-between">
        <button
          class="px-3 py-2 border rounded-md border-gray-300 text-sm cursor-pointer hover:bg-gray-200 transition-colors"
          (click)="closeModal.emit()"
        >
          Cancel
        </button>
        <button
          class="flex items-center gap-2 px-3 py-2 rounded-md bg-blue-600 shadow-sm text-white text-sm cursor-pointer"
          [disabled]="continueDetailsDisabled"
          (click)="nextStep()"
        >
          Continue to Details
          <span>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-arrow-right h-4 w-4"
              aria-hidden="true"
              data-id="element-128"
            >
              <path d="M5 12h14"></path>
              <path d="m12 5 7 7-7 7"></path>
            </svg>
          </span>
        </button>
      </div>
    } @else if (steps === 2) {
      <div class="flex justify-between">
        <button
          class="px-3 py-2 border flex gap-3 rounded-md border-gray-300 text-sm cursor-pointer hover:bg-gray-200 transition-colors"
          (click)="previousStep()"
        >
          <span>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-arrow-left h-4 w-4"
              aria-hidden="true"
              data-id="element-130"
            >
              <path d="m12 19-7-7 7-7"></path>
              <path d="M19 12H5"></path>
            </svg>
          </span>
          Back to Photos
        </button>
        <div class="flex gap-2">
          <button
            class="px-3 py-2 border rounded-md border-gray-300 text-sm cursor-pointer hover:bg-gray-200 transition-colors"
          >
            Save as Draft
          </button>

          <button
            class="px-3 py-2 border rounded-md bg-blue-600 shadow-sm text-white text-sm cursor-pointer hover:bg-blue-700 transition-colors"
          >
            Publish Property
          </button>
        </div>
      </div>
    }
  </footer>
</div>
